# The main schema of Corum's API
types: ./types.graphql

functions:
  # Sign Up Resolver and Mutation
  signup:
    type: resolver
    schema: src/signup.graphql
    handler:
      code: 
        src: src/signup.js

  # Get Authentication Resolver and Mutation
  authenticate:
    type: resolver
    schema: src/authenticate.graphql
    handler:
      code: 
        src: src/authenticate.js   

rootTokens:
  - signup
  - authenticate 

# These permissions are very permissive
# They should be locked down when possible

permissions:
  # Subforum Permissions
  - operation: Subforum.create
  - operation: Subforum.read
  - operation: Subforum.update
  - operation: Subforum.delete

  # Post Permissions
  - operation: Post.create
  - operation: Post.read
  - operation: Post.update
  - operation: Post.delete

  # Comment Permissions
  - operation: Comment.create
  - operation: Comment.read
  - operation: Comment.update
  - operation: Comment.delete

  # Relation Permissions
  - operation: SubforumToPost.connect
  - operation: SubforumToPost.disconnect

  - operation: PostToComment.connect
  - operation: PostToComment.disconnect